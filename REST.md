### REST (Representational State Transfer)

REST устанавливает руководящие принципы проектирования API (всего их 5).

***

* Uniform interface (единый интерфейс):

API должен иметь **только один логичный URL** и все остальные API должны быть сформированы аналогичным образом. Представление API должно соответствовать соглашению об именах, формате ссылок и данных (XML, JSON).

***

* Client–server (клиент-сервер):

Клиентские и серверные API должны иметь возможность развиваться отдельно, **независимо друг от друга**. KISS :)

***

* Stateless (без сохранения состояния):

Сервер не должен ничего хранить о последнем запросе. Каждый запрос должен рассматриваться как новый. **Ни сеанса, ни истории**.

Каждый запрос от клиента должен содержать всю информацию, включая данные для аутентификации и авторизации.

***

* Cacheable (кэшируемость):

Кэширование - это **круто**. Всё, что только возможно, кэшируется. Кэширование может быть реализовано на сервере или на стороне клиента.

***

* Layered system (многоуровневая система):

REST позволяет использовать **многоуровневую системную архитектуру**, в которой API-интерфейсы развертываются на сервере A, а данные хранятся на сервере B, а запросы аутентифицируются, например, на сервере C.

***

> P.S. Тем не менее, время от времени, можно нарушить одно или два ограничения. Это всё ещё будет RESTful API, но не «по-настоящему RESTful».

***

* XML 

e**X**tensible **M**arkup **L**anguage используется для хранения и передачи данных.

Передача данных — это запросы и ответы в API-методах. Если вы отправляете SOAP-запрос, вы априори работаете именно с этим форматом. Потому что SOAP передает данные только в XML. Если вы используете REST, то там возможны варианты — или XML, или JSON.

Хранение данных — это когда XML встречается внутри кода. Его легко понимает как машина, так и человек. В формате XML можно описывать какие-то правила, которые будут применяться к данным, или что-то еще.

Формат XML подчиняется стандартам. Синтаксически некорректный запрос даже на сервер не уйдет, его еще клиент порежет. Сначала проверка на well formed, потом уже бизнес-логика.

Правила well formed XML:

1. Есть корневой элемент.

2. У каждого элемента есть закрывающийся тег.

3. Теги регистрозависимы.

4. Соблюдается правильная вложенность элементов.

5. Атрибуты оформлены в кавычках.

***

### Что такое WSDL

**WSDL** - это документ XML, описывающий веб-сервис. Это на самом деле означает язык описания веб-сервисов.

***

### SOAP VS REST

SOAP - это **формат** обмена данными, в то время как REST есть архитектурный **стиль**, т.е. они несопоставимы. 

* Пример реализации:

**SOAP**: XML поверх SOAP через HTTP;

**REST**: JSON через HTTP.

* Специфика:

**SOAP** - это всегда SOAP-XML, который представляет собой XML, включающий:

— Envelope (конверт) – корневой элемент, который определяет сообщение и пространство имен, использованное в документе;

— Header (заголовок) – содержит атрибуты сообщения, например: информация о безопасности или о сетевой маршрутизации;

— Body (тело) – содержит сообщение, которым обмениваются приложения;

— Fault – необязательный элемент, который предоставляет информацию об ошибках, которые произошли при обработке сообщений. И запрос, и ответ должны соответствовать структуре SOAP.

В SOAP используется формат SOAP XML для запросов и ответов.

SOAP использует WSDL (Web Services Description Language) — язык описания веб-сервисов и доступа к ним, основанный на языке XML.

SOAP не накладывает никаких ограничений на тип транспортного протокола (Web протокол HTTP, либо MQ).

**REST** - это использование HTTP в качестве транспортного протокола. Он подразумевает наилучшее использование функций, предоставляемых HTTP — методы запросов, заголовки запросов, ответы, заголовки ответов и т. д.

В REST фиксированного формата нет (XML, JSON или любой другой удобный формат).

REST не имеет стандартного языка определения сервиса.
